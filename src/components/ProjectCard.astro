---
import Image from "astro/components/Image.astro";
import ExternalLinkIcon from "src/components/icons/ExternalLinkIcon.astro";
import GitHubIcon from "src/components/icons/GitHubIcon.astro";

interface Props {
  title: string;
  description: string;
  image?: ImageMetadata;
  github: string;
  link?: string;
}

const { title, description, image, github, link } = Astro.props;
---

<div
  class="group relative overflow-hidden rounded-lg border border-purple-500/30 bg-black/40 backdrop-blur-sm transition-all duration-300 hover:border-pink-500/50 hover:shadow-[0_0_30px_rgba(236,72,153,0.1)]"
>
  <div class="relative h-80 overflow-hidden">
    {
      image !== undefined && (
        <Image
          src={image}
          alt={title}
          class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"
        />
      )
    }
    <div
      class="absolute inset-0 bg-gradient-to-t from-black via-black/30 to-transparent"
    >
    </div>

    <div class="absolute inset-0 flex items-end justify-center p-4">
      <h3
        class="text-3xl pb-8 font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-orange-400 transform transition-all duration-300 group-hover:scale-120"
      >
        {title}
      </h3>
    </div>
  </div>

  <div class="p-6">
    <p class="mb-4 text-purple-200/90">{description}</p>

    <div class="flex gap-4">
      <a
        href={github}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center rounded-md border border-purple-500/50 px-4 py-2 text-sm text-purple-300 transition-colors hover:bg-purple-500/20"
      >
        <GitHubIcon class="mr-2 h-4 w-4" />
        Code
      </a>
      <slot name="link">
        <a
          href={link}
          class="inline-flex items-center rounded-md border border-pink-500/50 px-4 py-2 text-sm text-pink-300 transition-colors hover:bg-pink-500/20"
        >
          <ExternalLinkIcon class="mr-2 h-4 w-4" />
          Demo
        </a>
      </slot>
    </div>
  </div>
</div>
